"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const y=require("mitt"),t=require("vue"),c=y();let T=0;const h=()=>{const n=T;return T+=1,n},p=()=>(n,s)=>{const e={...n,id:h(),group:n.group||""};return c.emit("notify",{notification:e,timeout:s}),()=>c.emit("close",e.id)},N="context",a=t.defineComponent({__name:"Notification",props:{maxNotifications:{default:10},enter:{default:""},enterFrom:{default:""},enterTo:{default:""},leave:{default:""},leaveFrom:{default:""},leaveTo:{default:""},move:{default:""},moveDelay:{default:""}},emits:["close"],setup(n,{emit:s}){const e=n,l=t.inject(N),r=t.reactive({notifications:[],timeouts:{}}),u=t.computed(()=>r.notifications.filter(o=>o.group===l.group)),g=t.computed(()=>l.position==="bottom"?[...u.value].slice(0,e.maxNotifications):[...u.value].reverse().slice(0,e.maxNotifications)),d=(o,i)=>{r.timeouts[o]=window.setTimeout(()=>{i!==-1&&f(o)},Math.max(i||3e3,0))},f=o=>{r.notifications.splice(r.notifications.findIndex(i=>i.id===o),1),clearTimeout(r.timeouts[o])},_=({notification:o,timeout:i})=>{r.notifications.push(o),d(o.id,i)},I=o=>{s("close"),f(o)},E=(o,i,v)=>{i?clearTimeout(r.timeouts[o]):d(o,v)};return t.onMounted(()=>{c.on("notify",_),c.on("close",f)}),(o,i)=>(t.openBlock(),t.createBlock(t.TransitionGroup,{"enter-active-class":t.unref(u).length>1?[e.enter,e.moveDelay].join(" "):e.enter,"enter-from-class":e.enterFrom,"enter-to-class":e.enterTo,"leave-active-class":e.leave,"leave-from-class":e.leaveFrom,"leave-to-class":e.leaveTo,"move-class":e.move},{default:t.withCtx(()=>[t.renderSlot(o.$slots,"default",{notifications:t.unref(g),close:I,hovering:E})]),_:3},8,["enter-active-class","enter-from-class","enter-to-class","leave-active-class","leave-from-class","leave-to-class","move-class"]))}}),m=t.defineComponent({__name:"NotificationGroup",props:{group:{default:""},position:{default:"top"}},setup(n){const s=n;return t.provide(N,{group:s.group,position:s.position}),(e,l)=>t.renderSlot(e.$slots,"default",{group:n.group})}});function x(n){n.config.globalProperties.$notify=p(),n.component("Notification",a),n.component("NotificationGroup",m),n.component("notification",a),n.component("notificationGroup",m)}const F={install:x};function M(){return t.defineComponent((s,{slots:e})=>()=>t.h(a,s,e))}const C=p();exports.Notification=a;exports.NotificationGroup=m;exports.createNotifier=p;exports.default=F;exports.defineNotificationComponent=M;exports.notify=C;
